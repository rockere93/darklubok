(()=>{"use strict";var t={66:(t,n,e)=>{t.exports=e.p+"assets/eabd42a6254254e38c8b.png"}},n={};function e(o){var a=n[o];if(void 0!==a)return a.exports;var r=n[o]={exports:{}};return t[o](r,r.exports,e),r.exports}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");if(o.length)for(var a=o.length-1;a>-1&&!t;)t=o[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),(()=>{const t=function(t,n){const e=t+Math.random()*(n+1-t);return Math.floor(e)},n={name:"",gender:"",inventory:[],health:100,attacks:[{name:"Удар рукой",get damagePoints(){return this._damage=t(0,5),this._damage},get text(){return 0===this._damage?"Вы промахнулись":`Вы тыкаете кулаком по противнику. Он получает ${this._damage} урона`}},{name:"Пинок",get damagePoints(){return this._damage=t(0,5),this._damage},get text(){return 0===this._damage?"Вы промахнулись":`Удар ногой наносит ${this._damage} урона`}}]},o=function(t,n){const e=t.findIndex((t=>t.nameButton===n));e>-1&&t.splice(e,1)},a=function(t,n){t.classList.contains("animationText")&&t.classList.remove("animationText"),setTimeout((()=>t.classList.add("animationText")),n)},r=function(t,n,...e){const o=document.createElement("div");return o.classList.add("button"),o.textContent=`${t}`,o.addEventListener("click",(function(){n(...e)})),o},i=document.querySelector(".body"),u=document.querySelector(".buttons_block"),s=document.querySelector(".mainfield"),c=document.querySelector(".textCard"),m=document.querySelector(".mainfield__body"),d=function(t,n){a(m,1e3),c.innerHTML=` ${t[n].text}`,u.innerHTML=" ";const e=t[n].buttons;for(const n of e){let e,o=[];n.arg&&(o=n.arg),e="goToStoryCard"===n.functionButton.name?r(n.nameButton,n.functionButton,t,...o):r(n.nameButton,n.functionButton,...o),u.append(e),a(u,2e3)}a(u,2e3)};function g(n,e){if(l(e,n,t(0,e.attacks.length-1)),n.health<=0){const t=e.buttonsDefeat;for(const n of t){let t,e=[];n.arg&&(e=n.arg),n.functionButton.name,t=r(n.nameButton,n.functionButton,...e),u.append(t),a(u,3e3)}}else for(let t=0;t<n.attacks.length;t++){const o=r(n.attacks[t].name,f,n,e,t);u.append(o),a(u,3e3)}}function f(t,n,e){if(l(t,n,e),n.health<=0){u.innerHTML=" ";const t=n.buttonsWin;for(const n of t){let t,e=[];n.arg&&(e=n.arg),n.functionButton.name,t=r(n.nameButton,n.functionButton,...e),u.append(t),a(u,3e3)}}else u.innerHTML=" ",g(t,n)}function l(t,n,e){n.health-=t.attacks[e].damagePoints;let o=document.createElement("p");o.textContent=`${t.attacks[e].text}. Осталось здоровья: ${n.health}`,o.classList.add("fightString","_opacityZero"),c.append(o),o=m.querySelector(".textCard > p:last-child"),a(o,1e3)}const h=[{name:"storyCard0",get text(){return"Ты находишься в темной бревенчатой комнате, единственный свет - из узкого, как бойница, окна, через который видно краешек серой хмари. В нос бьет сильный запах плесени и влажного мха, который утыкан между старыми потемневшими брёвнами. По центру стоит печь, достаточно большая, чтобы туда поместился человек, но чья кладка рассыпается как будто прямо на глазах, обнажая тёмное и пугающее нутро. Возле стен свалены кучи какого-то хлама. Также видна массивная дверь, неровно примыкающая к косяку."},buttons:[{nameButton:"Оглядеться",functionButton:x,arg:[1]},{nameButton:"Осмотреть печь",functionButton:x,arg:[3]},{nameButton:"Подойти к двери",functionButton:x,arg:[6]}]},{name:"storyCard1",get text(){return"Вы старательно осматриваете комнату, но видите только кучи разломанной деревянной мебели и посуды, какие-то ржавые куски металла. Ничего полезного. Ваше внимание привлекает только обрушившийся со стены шкафчик, закиданный всяким хламом."},buttons:[{nameButton:"Попытаться открыть дверь шкафчика",functionButton:function(){o(h[0].buttons,"Оглядеться"),B(_),B(_),B(_),B(_),B(_),B(_),d(h,2)}},{nameButton:"Осмотреть печь",functionButton:x,arg:[3]},{nameButton:"Подойти к двери",functionButton:x,arg:[6]}]},{name:"storyCard2",get text(){return"Вы неловко откидываете хлам, мешающий открыть дверцы. И отворачиваете одну створку. Внутри, видимо, хранилась посуда, которая сейчас из себя представляет лишь глиняные черепки. Немного покопавшись вы натыкаетесь на небольшой нож, старый, выщербленный, с перемотанным полосками кожи деревянной ручкой."},buttons:[{nameButton:"Осмотреть печь",functionButton:x,arg:[3]},{nameButton:"Подойти к двери",functionButton:x,arg:[6]}]},{name:"storyCard3",get text(){return"Когда вы подходите ближе к печи, вы ощущаете липкое чувство страха в груди, руки начинают непроизвольно дрожать, но вы пересиливаете себя и опускаете руки в утробу печи. Она полна пепла, всё глубже погружая в него руки, вы нащупываете твердые фрагменты неровной формы, как крупные, так и совсем небольшие, а также какой-то небольшой гладкий и округлый предмет."},buttons:[{nameButton:"Вытащить округлый предмет",functionButton:function(){o(h[3].buttons,"Вытащить округлый предмет"),d(h,4),n.inventory.push({name:'Амулет с надписью "Алёна"'})}},{nameButton:"Вытащить фрагменты неровной формы",functionButton:y},{nameButton:"Уйти от печи",functionButton:x,arg:[0]}]},{name:"storyCard4",get text(){return"Слишком темно, чтобы разглядеть. Вы подходите к окну и видите, что держите в руках простой медальон. Он хоть и немного оплавлен, но на нём еще можно разглядеть именную надпись «Алёна». Предмет попадает к вам в инвентарь."},buttons:[{nameButton:"Вытащить фрагменты неровной формы",functionButton:y},{nameButton:"Уйти от печи",functionButton:x,arg:[0]}]},{name:"storyCard5",get text(){return"Чтобы разглядеть, что у вас в руках, вы подходите к окошку. При тусклом свете от окна вы понимаете, что держите в руках фрагменты костей и человеческие зубы, вы с ужасом роняете их на пол. Вы не можете заставить себя снова вернуться к печи."},buttons:[{nameButton:"Продолжить",functionButton:x,arg:[0]}]},{name:"storyCard6",get text(){return"Массивная и тяжелая дверь перекосилась, оставляя узкие щели, через которые проникает слабый свет. Петель уже нет, разбухшую от влаги дверь просто вбили в старый косяк. На улице за дверью слышно странное шипение, перемежающее другими резкими и неприятными звуками, а также хлопанье массивных крыльев."},buttons:[{nameButton:"Попытаться открыть дверь",functionButton:function(){o(h[6].buttons,"Попытаться открыть дверь"),d(h,7)}},{nameButton:"Разбежаться и попытаться выбить дверь наружу",functionButton:b},{nameButton:"Отойти от двери",functionButton:x,arg:[0]}]},{name:"storyCard7",get text(){return"Вы дергаете дверь за чудом сохранившуюся ручку. Чуду конец, ручка остается у вас в руках. Вы пробуете толкнуть дверь, она немного поддаётся."},buttons:[{nameButton:"Разбежаться и попытаться выбить дверь наружу",functionButton:b},{nameButton:"Отойти от двери",functionButton:x,arg:[0]}]}],p=[{name:"storyCard0",get text(){return"Дверь поддается и вылетает из проёма, падая с крыльца на землю. Первое, что вы видите: это старые огромные деревья в паре десятков метрах от вас. Второе: жухлую траву, кое-как пробивающуюся через слой опавшей листвы. Третье вы предпочли бы не видеть, но оно здесь: большая птица размером с небольшого осла. Шея делает её похожей на лебедя, но длина непропорционально большая и извивается она скорее по-змеиному. Тварь издаёт угрожающее шипение, похожее на гусиное. Что-то подсказывает вам, что она настроена недружелюбно."},buttons:[{nameButton:"Продолжить",functionButton:function(t,n){m.classList.remove("_opacityZero"),c.innerHTML=" ",u.innerHTML=" ";const e=document.createElement("div");e.classList.add("fightHead"),e.textContent="БОЙ",c.append(e),g(t,n)},arg:[n,{name:"Гусь-лебедь",img:"",description:"",health:10,attacks:[{name:"щипок",get damagePoints(){return this._damage=t(0,5),this._damage},get text(){return 0===this._damage?"Гусь промахнулся":`Гусь-лебедь, словно змея, резко выбросил свою головув и сильно ущипнул вас. Получено ${this._damage} урона`}},{get text(){return 0===this._damage?"Гусь промахнулся":`Гусь-лебедь привстает на лапах и начинает хлестать вас своими крыльями. Вы получаете ${this._damage} урона`},get damagePoints(){return this._damage=t(0,5),this._damage}},{name:"удар в полете",get text(){return 0===this._damage?"Гусь промахнулся":`Взлетев перед вами, он обрушивает всю мощь своих перепончатых лап, раздирая вашу кожу. Вы получаете ${this._damage} урона`},get damagePoints(){return this._damage=t(0,5),this._damage}}],buttonsDefeat:[{nameButton:"Начать заново",functionButton:function(){location.reload()}}],buttonsWin:[{nameButton:"Продолжить",functionButton:function(){d(p,0)}}]}]}]}],B=function(t){if(n.inventory.push(t),t.weaponAttaсks)for(const e of t.weaponAttaсks)n.attacks.push(e);const e=document.querySelector(".character-window__inventory"),o=document.createElement("div"),a=document.createElement("img"),r=document.createElement("div");o.classList.add("inventory__item-block"),a.src=t.img,o.append(a),r.classList.add("inventory__item-description"),r.textContent=t.description,o.append(r),e.append(o)},_={name:"Старый кухонный нож",description:"Небольшой нож с выщербленным лезвием и перемотанной полосками кожи деревянной ручкой.",img:e(66),weaponAttaсks:[{name:"Ударить кухонным ножом",get damagePoints(){return this._damage=t(0,5),this._damage},get text(){return 0===this._damage?"ВЫ промахнулись":`Вы бьете ножом, как умеете и наносите ${this._damage} урона`}},{name:"Порез ножом",get damagePoints(){return this._damage=t(0,5),this._damage},get text(){return 0===this._damage?"ВЫ промахнулись":`Вы попали, но выщербленное лезвие слегка ранит противника на ${this._damage} урона`}}]};function y(){o(h[0].buttons,"Осмотреть печь"),o(h[1].buttons,"Осмотреть печь"),o(h[2].buttons,"Осмотреть печь"),d(h,5)}function b(){d(p,0)}function x(){d(h,...arguments)}i.className="body body_theme_ch1-p1",s.className="mainfield mainfield_theme_ch1-p1 _opacityZero",m.className="mainfield__body mainfield__body_theme_ch1-p1 _opacityZero",a(s,3e3),d(h,0),function(){const t=document.querySelector(".character-window");document.querySelector(".sideMenu__button, .inventory").addEventListener("click",(function(){t.style.display="block",window.addEventListener("keydown",(function(n){"Escape"===n.code&&(t.style.display="none")}),{once:!0})}))}()})()})();